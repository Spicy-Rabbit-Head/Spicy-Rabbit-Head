{
  "name": "input.scss",
  "type": "registry:style",
  "files": [
    {
      "target": "style/input.scss",
      "content": "@use 'sass:map';\r\n\r\n@use './shared' as *;\r\n@use './design' as *;\r\n\r\n$input: () !default;\r\n$input: map.merge(\r\n  (\r\n    bg-color: value('fill-color-base'),\r\n    bg-color-disabled: value('fill-color-humble'),\r\n    b-color: value('border-color-base'),\r\n    b-color-hover: value('color-primary-light-1'),\r\n    b-color-focus: value('input-b-color-hover'),\r\n    s-color-focus: value('color-primary-opacity-6'),\r\n    placeholder-color: value('content-color-placeholder'),\r\n    control-color: value('content-color-base'),\r\n    control-color-disabled: value('content-color-disabled'),\r\n    icon-color: value('content-color-secondary'),\r\n    icon-color-hover: value('color-primary-base'),\r\n    icon-color-disabled: value('input-control-color-disabled'),\r\n    before-bg-color: value('fill-color-background'),\r\n    after-bg-color: value('fill-color-background'),\r\n    line-height: value('line-height-base'),\r\n    border: value('border-shape') value('input-b-color'),\r\n    radius: value('radius-base'),\r\n    count-color: value('content-color-secondary'),\r\n    count-color-disabled: value('input-control-color-disabled'),\r\n    count-font-size: value('font-size-secondary'),\r\n    count-line-height: value('line-height-secondary'),\r\n    height: 32px,\r\n    v-padding: 4px,\r\n    h-padding: 8px,\r\n    padding: value('input-v-padding') value('input-h-padding'),\r\n    prefix-width: 32px,\r\n    suffix-width: 32px\r\n  ),\r\n  $input\r\n);\r\n\r\n@mixin define-input-style($style-map) {\r\n  @include define-preset-style('input', $style-map);\r\n}\r\n\r\n@mixin handler($handler: &) {\r\n  @at-root #{$handler} {\r\n    position: relative;\r\n    display: inline-flex;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: value('input-height');\r\n    padding: value('input-v-padding') value('input-h-padding');\r\n    cursor: text;\r\n    background-color: value('input-bg-color');\r\n    border: value('border-shape') value('input-b-color');\r\n    border-radius: value('input-radius');\r\n    outline: 0;\r\n    transition:\r\n      value('transition-background'), value('transition-border'), value('transition-shadow');\r\n\r\n    &:hover {\r\n      border-color: value('input-b-color-hover');\r\n    }\r\n\r\n    &:focus,\r\n    &:focus-within,\r\n    &--focused {\r\n      z-index: 2;\r\n      border-color: value('input-b-color-focus');\r\n      box-shadow: value('shadow-focus') value('input-s-color-focus');\r\n    }\r\n\r\n    &--small {\r\n      @include define-preset-values(\r\n        'input',\r\n        (\r\n          height: 24px,\r\n          v-padding: 1px\r\n        )\r\n      );\r\n    }\r\n\r\n    &--large {\r\n      @include define-preset-values(\r\n        'input',\r\n        (\r\n          height: 40px,\r\n          v-padding: 7px\r\n        )\r\n      );\r\n    }\r\n\r\n    $states: success, error, warning;\r\n\r\n    @each $state in $states {\r\n      // 提升 state 样式的级别，以防止引入的先后顺序导致样式丢失\r\n      &#{&}--#{$state} {\r\n        @include define-input-style(\r\n          (\r\n            b-color: 'color' $state 'light-1',\r\n            b-color-hover: 'color' $state 'light-1',\r\n            s-color-focus: 'color' $state 'opacity-6'\r\n          )\r\n        );\r\n      }\r\n    }\r\n\r\n    &--readonly {\r\n      cursor: auto;\r\n    }\r\n\r\n    &--transparent {\r\n      background-color: transparent;\r\n\r\n      &,\r\n      &:hover,\r\n      &:focus,\r\n      &:focus-within,\r\n      &--focused {\r\n        border-color: transparent;\r\n        box-shadow: unset;\r\n      }\r\n    }\r\n\r\n    &--disabled {\r\n      cursor: not-allowed;\r\n      background-color: value('input-bg-color-disabled');\r\n\r\n      &,\r\n      &:hover,\r\n      &:focus,\r\n      &:focus-within {\r\n        border-color: value('border-color-base');\r\n        box-shadow: none;\r\n      }\r\n\r\n      %disabled-item {\r\n        color: value('input-control-color-disabled');\r\n        pointer-events: none;\r\n        cursor: not-allowed;\r\n      }\r\n    }\r\n\r\n    &--disabled#{&}--focused {\r\n      border-color: value('border-color-base');\r\n      box-shadow: none;\r\n    }\r\n  }\r\n\r\n  &__control {\r\n    flex: 1 0 0;\r\n    min-width: 0;\r\n    height: 100%;\r\n    padding: 0;\r\n    font-size: inherit;\r\n    line-height: value('input-line-height');\r\n    color: value('input-control-color');\r\n    background-color: transparent;\r\n    border: 0;\r\n    border-radius: value('input-radius');\r\n    outline: 0;\r\n    transition: value('transition-color');\r\n\r\n    &:disabled {\r\n      cursor: not-allowed;\r\n    }\r\n\r\n    &::placeholder {\r\n      color: value('input-placeholder-color');\r\n    }\r\n\r\n    /* stylelint-disable no-duplicate-selectors */\r\n    &::-ms-clear,\r\n    &::-ms-clear,\r\n    &::-ms-reveal,\r\n    &::-ms-reveal {\r\n      display: none;\r\n    }\r\n    /* stylelint-enable no-duplicate-selectors */\r\n\r\n    @extend %disabled-item;\r\n  }\r\n\r\n  #{$handler}--readonly &__control {\r\n    cursor: auto;\r\n  }\r\n\r\n  &__icon {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 100%;\r\n    color: value('input-icon-color');\r\n    user-select: none;\r\n\r\n    &--placeholder {\r\n      min-width: 14px;\r\n      min-height: 1px;\r\n      margin-inline-start: 4px;\r\n      visibility: hidden;\r\n      opacity: 0%;\r\n    }\r\n\r\n    @extend %disabled-item;\r\n  }\r\n\r\n  &__prefix {\r\n    margin-inline-end: 4px;\r\n  }\r\n\r\n  &__suffix {\r\n    margin-inline-start: 4px;\r\n    transition: value('transition-opacity');\r\n  }\r\n\r\n  &__clear {\r\n    @include clean-button;\r\n  }\r\n\r\n  &__clear,\r\n  &__loading {\r\n    position: absolute;\r\n    inset-inline-end: value('input-h-padding');\r\n    min-width: 14px;\r\n    margin-inline-start: 4px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  &__loading {\r\n    pointer-events: none;\r\n  }\r\n}\r\n\r\n.#{$namespace}-input {\r\n  @at-root &-vars {\r\n    @include define-preset-values('input', $input);\r\n  }\r\n\r\n  $self: &;\r\n  $wrapper: #{&}-wrapper;\r\n  $radius: value('input-radius');\r\n\r\n  &-wrapper {\r\n    @include basis {\r\n      position: relative;\r\n      display: inline-flex;\r\n      align-items: center;\r\n      width: 100%;\r\n      min-width: 0;\r\n      background-color: value('input-bg-color');\r\n      border-radius: value('input-radius');\r\n    }\r\n  }\r\n\r\n  @include basis;\r\n  @include handler;\r\n\r\n  &-wrapper & {\r\n    flex: 1 0 0;\r\n    width: auto;\r\n    min-width: 0;\r\n    background-color: transparent;\r\n    border-radius: 0;\r\n  }\r\n\r\n  &-wrapper--before-only & {\r\n    @include logical-radius(0 $radius $radius 0);\r\n  }\r\n\r\n  &-wrapper--after-only & {\r\n    @include logical-radius($radius 0 0 $radius);\r\n  }\r\n\r\n  &--before {\r\n    z-index: 1;\r\n    border-inline-start-color: transparent;\r\n  }\r\n\r\n  &--after {\r\n    z-index: 1;\r\n    border-inline-end-color: transparent;\r\n  }\r\n\r\n  &__suffix-wrapper {\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  &__clear,\r\n  &__loading {\r\n    inset-inline-end: 0;\r\n  }\r\n\r\n  &__password {\r\n    margin-inline-start: 4px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  &__count {\r\n    margin: 0 4px;\r\n    font-size: value('input-count-font-size');\r\n    line-height: value('input-count-line-height');\r\n    color: value('input-count-color');\r\n    pointer-events: none;\r\n    user-select: none;\r\n    transition: value('transition-color');\r\n  }\r\n\r\n  &--disabled &__count {\r\n    color: value('input-count-color-disabled');\r\n  }\r\n\r\n  &__before,\r\n  &__after {\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n    height: calc(value('input-height'));\r\n    padding: 0 value('input-h-padding');\r\n    border: value('input-border');\r\n\r\n    &--action {\r\n      padding: 0;\r\n      border: 0;\r\n    }\r\n  }\r\n\r\n  @mixin inner-input($inner-radius) {\r\n    & > #{$wrapper},\r\n    & > .#{$namespace}-number-input {\r\n      width: calc(100% + 2 * value('input-h-padding'));\r\n      height: 100%;\r\n\r\n      @include logical-radius($inner-radius);\r\n    }\r\n  }\r\n\r\n  @mixin inner-select($inner-radius) {\r\n    $selects: cascader color-picker date-picker select time-picker;\r\n\r\n    @each $select in $selects {\r\n      & > .#{$namespace}-#{$select} {\r\n        width: calc(100% + 2 * value('input-h-padding'));\r\n        height: 100%;\r\n\r\n        & .#{$namespace}-#{$select}__selector {\r\n          min-width: 60px;\r\n          height: 100%;\r\n          background-color: transparent;\r\n          box-shadow: unset;\r\n\r\n          @include logical-radius($inner-radius);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  @mixin inner-button($inner-radius) {\r\n    & > .#{$namespace}-button {\r\n      width: calc(100% + 2 * value('input-h-padding'));\r\n      height: 100%;\r\n\r\n      @include logical-radius($inner-radius);\r\n\r\n      &--icon-only {\r\n        width: calc(value('button-height') + 2 * value('input-h-padding'));\r\n      }\r\n    }\r\n  }\r\n\r\n  $before-radius: $radius 0 0 $radius;\r\n  $after-radius: 0 $radius $radius 0;\r\n\r\n  &__before {\r\n    $bg-color: value('input-before-bg-color');\r\n\r\n    background-color: $bg-color;\r\n    border-inline-end: 0;\r\n\r\n    @include logical-radius($radius 0 0 $radius);\r\n\r\n    &--action {\r\n      margin-inline-end: -1px;\r\n      background-color: transparent;\r\n\r\n      @include inner-button($before-radius);\r\n      @include inner-input($before-radius);\r\n      @include inner-select($before-radius);\r\n    }\r\n  }\r\n\r\n  &__after {\r\n    $bg-color: value('input-after-bg-color');\r\n\r\n    background-color: $bg-color;\r\n    border-inline-start: 0;\r\n\r\n    @include logical-radius(0 $radius $radius 0);\r\n\r\n    &--action {\r\n      margin-inline-start: -1px;\r\n      background-color: transparent;\r\n\r\n      @include inner-button($after-radius);\r\n      @include inner-input($after-radius);\r\n      @include inner-select($after-radius);\r\n    }\r\n  }\r\n\r\n  &--transparent &__before,\r\n  &--transparent &__after {\r\n    background-color: transparent;\r\n  }\r\n}\r\n"
    }
  ]
}
